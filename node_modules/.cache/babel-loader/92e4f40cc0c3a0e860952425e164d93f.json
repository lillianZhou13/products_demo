{"ast":null,"code":"import _classCallCheck from \"/Users/fadjsasjdagd/Documents/GitHub/products_demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/fadjsasjdagd/Documents/GitHub/products_demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/fadjsasjdagd/Documents/GitHub/products_demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/fadjsasjdagd/Documents/GitHub/products_demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/fadjsasjdagd/Documents/GitHub/products_demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/fadjsasjdagd/Documents/GitHub/products_demo/src/pages/Auth/LogInForm.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport Joi, { errors } from \"joi-browser\";\nimport { sendLogInToServer } from \"../../actions/auth.action\";\nimport Input from '../../utilities/Input';\nimport Form from \"../../utilities/Form\";\n\nvar LogInForm = /*#__PURE__*/function (_Form) {\n  _inherits(LogInForm, _Form);\n\n  function LogInForm() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, LogInForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(LogInForm)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      data: {\n        user_name: \"\",\n        password: \"\"\n      },\n      errors: {}\n    };\n    _this.schema = {\n      //regex(/^[a-zA-Z0-9]{3,30}$/)\n      user_name: Joi.string().required().alphanum().min(3).max(30).label(\"User Name\"),\n      password: Joi.string().required().label(\"Password\")\n    };\n\n    _this.doSumbit = function () {\n      if (_this.state.data.user_name && _this.state.data.password) {\n        _this.props.dispatch(sendLogInToServer(_this.state.data));\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(LogInForm, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      console.log(\"props in Login Form\", this.props);\n      console.log(\"auth in Login\", this.props.isAuth, this.props.isAuth === 1);\n\n      if (this.props.isAuth === 1) {\n        setTimeout(function () {\n          console.log(_this2.props.history);\n\n          _this2.props.history.push('/products');\n        }, 4000);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          data = _this$state.data,\n          errors = _this$state.errors;\n      return /*#__PURE__*/React.createElement(\"section\", {\n        className: \"container\",\n        style: {\n          paddingTop: '6rem'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 10\n        }\n      }, this.props.isAuth && /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 31\n        }\n      }, \"Log In success, will direct to home page in 4 seconds\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 10\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"col-sm-7  text-center mt-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 14\n        }\n      }, \"Welcome Back.\"), this.props.error && /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"text-danger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 35\n        }\n      }, this.props.error), /*#__PURE__*/React.createElement(\"form\", {\n        className: \"col-sm-7\",\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        label: \"User Name\",\n        name: \"user_name\",\n        value: data.user_name,\n        handleChange: this.handleChange,\n        type: \"text\",\n        error: errors[\"user_name\"],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Input, {\n        label: \"Password\",\n        name: \"password\",\n        id: \"password\",\n        value: data.password,\n        type: \"password\",\n        handleChange: this.handleChange,\n        error: errors[\"password\"],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        disabled: this.validate(),\n        type: \"submit\",\n        className: \"btn btn-primary col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }\n      }, \"Log IN\")), /*#__PURE__*/React.createElement(Link, {\n        to: \"/signup\",\n        className: \"text-center my-3 col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 7\n        }\n      }, \"Don't have an account? Sign Up here.\")));\n    }\n  }]);\n\n  return LogInForm;\n}(Form);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    isAuth: state.auth.isAuth,\n    error: state.auth.error\n  };\n};\n\nexport default connect(mapStateToProps)(LogInForm);","map":{"version":3,"sources":["/Users/fadjsasjdagd/Documents/GitHub/products_demo/src/pages/Auth/LogInForm.js"],"names":["React","Component","connect","Link","Joi","errors","sendLogInToServer","Input","Form","LogInForm","state","data","user_name","password","schema","string","required","alphanum","min","max","label","doSumbit","props","dispatch","console","log","isAuth","setTimeout","history","push","paddingTop","error","handleSubmit","handleChange","validate","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React,{ Component} from 'react';\nimport {connect} from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport Joi, { errors } from \"joi-browser\";\nimport { sendLogInToServer } from \"../../actions/auth.action\";\nimport  Input from  '../../utilities/Input';\nimport Form from \"../../utilities/Form\";\n\nclass  LogInForm extends Form {\n state = {\n  data:{user_name:\"\",password:\"\"},\n  errors:{}\n }\n  \n\n  componentDidMount(){\n      console.log(\"props in Login Form\", this.props);\n      console.log(\"auth in Login\",this.props.isAuth,this.props.isAuth===1)\n     if(this.props.isAuth ===1){\n\n      setTimeout(() => {\n    \n        console.log(this.props.history);\n         this.props.history.push('/products');\n         }, 4000);\n     }\n  };\n  schema = {\n    //regex(/^[a-zA-Z0-9]{3,30}$/)\n    user_name: Joi.string().required().alphanum().min(3).max(30).label(\"User Name\"),\n    password: Joi.string().required().label(\"Password\"),\n    \n  };\n  \n   \n  \n\n \ndoSumbit = ()=>{\n  if(this.state.data.user_name && this.state.data.password){\n    this.props.dispatch(sendLogInToServer(this.state.data));\n  }\n}\nrender(){\n  const {data,errors} =this.state;\n        return (\n         <section className=\"container\" style={{paddingTop: '6rem'}} >\n        {this.props.isAuth && <h3>Log In success, will direct to home page in 4 seconds</h3>}\n         <div className=\"row justify-content-center\">\n             <span className=\"col-sm-7  text-center mt-3\">Welcome Back.</span>\n             {this.props.error && <h4 className=\"text-danger\">{this.props.error}</h4>}\n       <form className=\"col-sm-7\" onSubmit={this.handleSubmit}>\n        <Input  \n          label=\"User Name\" \n          name=\"user_name\" \n          value={data.user_name}\n          handleChange= {this.handleChange}\n         type=\"text\" \n         error={errors[\"user_name\"]} />\n       \n        <Input \n         label=\"Password\" \n         name=\"password\"\n         id=\"password\"\n         value={data.password} \n         type=\"password\" \n         handleChange= {this.handleChange}\n         error={errors[\"password\"]} />\n        <button \n          disabled = {this.validate()}\n          type=\"submit\" \n          className=\"btn btn-primary col-12\">Log IN</button>\n       \n        \n      </form>\n      \n      <Link to=\"/signup\" className=\"text-center my-3 col-12\">Don't have an account? Sign Up here.</Link>\n      </div>\n      </section>);\n    \n }\n}\nconst mapStateToProps = (state) =>{\n    return {\n        isAuth: state.auth.isAuth,\n        error:state.auth.error\n    }\n}\nexport default connect(mapStateToProps)(LogInForm);\n"]},"metadata":{},"sourceType":"module"}