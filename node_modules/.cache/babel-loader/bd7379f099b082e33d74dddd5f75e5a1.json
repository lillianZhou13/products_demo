{"ast":null,"code":"import _toConsumableArray from \"/Users/fadjsasjdagd/Documents/GitHub/products_demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/fadjsasjdagd/Documents/GitHub/products_demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { ADD_PRODUCT_TO_CART, DECREMENT_CART_ITEM_QUANTITY, INCREMENT_CART_ITEM_QUANTITY, REMOVE_PRODUCT_FROM_CART, SET_LOADING } from '../actions';\nimport { phones } from \"../data/phones\";\nvar initialState = {\n  products: phones,\n  cart: [],\n  isLoading: false\n};\n\nvar shopReducer = function shopReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var updatedCart;\n  var updatedItemIndex;\n\n  switch (action.type) {\n    case SET_LOADING:\n      return _objectSpread({}, state, {\n        isLoading: action.payload\n      });\n\n    case INCREMENT_CART_ITEM_QUANTITY:\n      updatedCart = _toConsumableArray(state.cart);\n      updatedItemIndex = updatedCart.findIndex(function (item) {\n        return item.id === action.payload;\n      });\n\n      var incrementedItem = _objectSpread({}, updatedCart[updatedItemIndex]);\n\n      incrementedItem.quantity++;\n      updatedCart[updatedItemIndex] = incrementedItem;\n      return _objectSpread({}, state, {\n        cart: updatedCart\n      });\n\n    case DECREMENT_CART_ITEM_QUANTITY:\n      updatedCart = _toConsumableArray(state.cart);\n      updatedItemIndex = updatedCart.findIndex(function (item) {\n        return item.id === action.payload;\n      });\n\n      var decrementedItem = _objectSpread({}, updatedCart[updatedItemIndex]);\n\n      decrementedItem.quantity--;\n      updatedCart[updatedItemIndex] = decrementedItem;\n      return _objectSpread({}, state, {\n        cart: updatedCart\n      });\n\n    case ADD_PRODUCT_TO_CART:\n      updatedCart = _toConsumableArray(state.cart);\n      updatedItemIndex = updatedCart.findIndex(function (item) {\n        return item.id === action.payload.id;\n      });\n\n      if (updatedItemIndex < 0) {\n        updatedCart.push(_objectSpread({}, action.payload, {\n          quantity: 1\n        }));\n      } else {\n        var updatedItem = _objectSpread({}, updatedCart[updatedItemIndex]);\n\n        updatedItem.quantity++;\n        updatedCart[updatedItemIndex] = updatedItem;\n      }\n\n      return _objectSpread({}, state, {\n        cart: updatedCart\n      });\n\n    case REMOVE_PRODUCT_FROM_CART:\n      updatedCart = _toConsumableArray(state.cart);\n      updatedItemIndex = updatedCart.findIndex(function (item) {\n        return item.id === action.payload;\n      });\n      updatedCart.splice(updatedItemIndex, 1);\n      return _objectSpread({}, state, {\n        cart: updatedCart\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport default shopReducer;","map":{"version":3,"sources":["/Users/fadjsasjdagd/Documents/GitHub/products_demo/src/reducers/shop.reducer.js"],"names":["ADD_PRODUCT_TO_CART","DECREMENT_CART_ITEM_QUANTITY","INCREMENT_CART_ITEM_QUANTITY","REMOVE_PRODUCT_FROM_CART","SET_LOADING","phones","initialState","products","cart","isLoading","shopReducer","state","action","updatedCart","updatedItemIndex","type","payload","findIndex","item","id","incrementedItem","quantity","decrementedItem","push","updatedItem","splice"],"mappings":"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","sourcesContent":["import {\n    ADD_PRODUCT_TO_CART,\n    DECREMENT_CART_ITEM_QUANTITY,\n    INCREMENT_CART_ITEM_QUANTITY,\n    REMOVE_PRODUCT_FROM_CART,\n    SET_LOADING\n} from '../actions';\nimport {phones} from \"../data/phones\";\n\nconst initialState = {\n    products: phones,\n    cart: [],\n    isLoading:false\n};\n\n\nconst shopReducer = (state = initialState, action ) => {\n    let updatedCart;\n    let updatedItemIndex;\n\n    switch (action.type) {\n        case SET_LOADING:\n            return {...state, isLoading:action.payload};\n        case INCREMENT_CART_ITEM_QUANTITY:\n            updatedCart = [...state.cart];\n            updatedItemIndex = updatedCart.findIndex(\n                item => item.id === action.payload\n            );\n\n            const incrementedItem = {\n                ...updatedCart[updatedItemIndex]\n            };\n\n            incrementedItem.quantity++;\n\n            updatedCart[updatedItemIndex] = incrementedItem;\n\n\n            return {...state, cart: updatedCart};\n\n        case DECREMENT_CART_ITEM_QUANTITY:\n            updatedCart = [...state.cart];\n            updatedItemIndex = updatedCart.findIndex(\n                item => item.id === action.payload\n            );\n\n            const decrementedItem = {\n                ...updatedCart[updatedItemIndex]\n            };\n\n            decrementedItem.quantity--;\n\n            updatedCart[updatedItemIndex] = decrementedItem;\n\n            return {...state, cart: updatedCart};\n\n        case ADD_PRODUCT_TO_CART:\n            updatedCart = [...state.cart];\n            updatedItemIndex = updatedCart.findIndex(item => item.id === action.payload.id);\n\n            if(updatedItemIndex < 0) {\n                updatedCart.push({...action.payload, quantity: 1});\n            } else {\n                const updatedItem = {\n                    ...updatedCart[updatedItemIndex]\n                };\n\n                updatedItem.quantity++;\n                updatedCart[updatedItemIndex] = updatedItem;\n            }\n\n            return {...state, cart: updatedCart};\n        case REMOVE_PRODUCT_FROM_CART:\n            updatedCart = [...state.cart];\n            updatedItemIndex = updatedCart.findIndex(\n                item => item.id === action.payload\n            );\n\n            updatedCart.splice(updatedItemIndex, 1);\n\n            return {...state, cart: updatedCart};\n        default:\n            return state;\n\n    }\n};\n\nexport default shopReducer;\n"]},"metadata":{},"sourceType":"module"}