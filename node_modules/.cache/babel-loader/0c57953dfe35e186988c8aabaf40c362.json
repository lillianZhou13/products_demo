{"ast":null,"code":"import _objectSpread from \"/Users/fadjsasjdagd/Documents/GitHub/products_demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/fadjsasjdagd/Documents/GitHub/products_demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/fadjsasjdagd/Documents/GitHub/products_demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/fadjsasjdagd/Documents/GitHub/products_demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/fadjsasjdagd/Documents/GitHub/products_demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/fadjsasjdagd/Documents/GitHub/products_demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/fadjsasjdagd/Documents/GitHub/products_demo/src/containers/ProductList/ProductList.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Product from \"../../components/Product/Product\";\nimport { brandFilter } from \"../../pipes/brandFilter\";\nimport { priceFilter } from \"../../pipes/priceFilter\";\nimport { orderByFilter } from \"../../pipes/orderByFilter\";\nimport LayoutMode from \"../../components/LayoutMode/LayoutMode\";\nimport { paginationPipe } from \"../../pipes/paginationFilter\";\nimport Pagination from \"../../components/Pagination/Pagination\";\nimport { fetchProducts } from '../../actions/products.actions';\n\nvar ProductList = /*#__PURE__*/function (_Component) {\n  _inherits(ProductList, _Component);\n\n  function ProductList() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ProductList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ProductList)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      colValue: 'col-lg-4',\n      perPage: 12,\n      currentPage: 1,\n      pagesToShow: 3,\n      gridValue: 3\n    };\n\n    _this.changeLayout = function (n) {\n      _this.setState({\n        gridValue: n\n      });\n\n      var realGridValue;\n\n      if (n === 4) {\n        realGridValue = 3;\n      } else {\n        realGridValue = 4;\n      }\n\n      _this.setState({\n        colValue: \"col-lg-\".concat(realGridValue)\n      });\n    };\n\n    _this.onPrev = function () {\n      var updatedState = _objectSpread({}, _this.state);\n\n      updatedState.currentPage = _this.state.currentPage - 1;\n\n      _this.setState(updatedState);\n    };\n\n    _this.onNext = function () {\n      _this.setState(_objectSpread({}, _this.state, {\n        currentPage: _this.state.currentPage + 1\n      }));\n    };\n\n    _this.goPage = function (n) {\n      _this.setState(_objectSpread({}, _this.state, {\n        currentPage: n\n      }));\n    };\n\n    return _this;\n  }\n\n  _createClass(ProductList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.products.length == 0) {\n        this.props.dispatch(fetchProducts());\n        console.log(\"this.props.products\", this.props);\n      }\n\n      console.log(\"this.props\", this.props);\n      console.log(\"this.state\", this.state); //this.props.fetchProducts();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var isActive = this.state.colValue[this.state.colValue.length - 1];\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }\n      }, this.props.isLoading && /*#__PURE__*/React.createElement(\"h2\", {\n        classname: \"m-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 43\n        }\n      }, \"Is Loading....\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12 d-none d-lg-block d-xl-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-header d-flex justify-content-end\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"mr-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 33\n        }\n      }, \"Change Layout: \"), /*#__PURE__*/React.createElement(LayoutMode, {\n        len: 3,\n        isActive: this.state.gridValue === 3,\n        click: this.changeLayout,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(LayoutMode, {\n        len: 4,\n        isActive: this.state.gridValue === 4,\n        click: this.changeLayout,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 33\n        }\n      }))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 17\n        }\n      }, this.props.products.lenght === 0 && /*#__PURE__*/React.createElement(\"h2\", {\n        className: \"display-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 56\n        }\n      }, \"No product found, please re-select filters\"), paginationPipe(this.props.products, this.state).map(function (product) {\n        var classes = \"\".concat(_this2.state.colValue, \" col-md-6 mb-4\");\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: classes,\n          key: product.id,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(Product, {\n          product: product,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 28\n          }\n        }));\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex justify-content-end\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 17\n        }\n      }, this.props.products && /*#__PURE__*/React.createElement(Pagination, {\n        totalItemsCount: this.props.products.length,\n        currentPage: this.state.currentPage,\n        perPage: this.state.perPage,\n        pagesToShow: this.state.pagesToShow,\n        onGoPage: this.goPage,\n        onPrevPage: this.onPrev,\n        onNextPage: this.onNext,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 19\n        }\n      })));\n    }\n  }]);\n\n  return ProductList;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  var brands = state.brandFilter ? state.brandFilter : [];\n  var orderBy = state.orderBy;\n  var isLoading = state.shop.isLoading;\n  var priceFilters = state.priceFilter; //console.log(\"isLoading in ProductList map\",isLoading );\n\n  var filterByBrandArr = brandFilter(state.products, brands);\n  var filterByPrice = priceFilter(filterByBrandArr, priceFilters);\n  var filterByOrderArr = orderByFilter(filterByPrice, orderBy);\n  /* console.log(\"brands\",brands)\n   console.log(\"products in map\", state.products);\n   console.log(\"filterByBranndarr\", filterByBrandArr);\n   console.log(\"products filterByOrderArr\", filterByOrderArr);*/\n\n  return {\n    products: filterByOrderArr,\n    isLoading: isLoading\n  };\n};\n\nexport default connect(mapStateToProps, null)(ProductList);","map":{"version":3,"sources":["/Users/fadjsasjdagd/Documents/GitHub/products_demo/src/containers/ProductList/ProductList.js"],"names":["React","Component","connect","Product","brandFilter","priceFilter","orderByFilter","LayoutMode","paginationPipe","Pagination","fetchProducts","ProductList","state","colValue","perPage","currentPage","pagesToShow","gridValue","changeLayout","n","setState","realGridValue","onPrev","updatedState","onNext","goPage","props","products","length","dispatch","console","log","isActive","isLoading","lenght","map","product","classes","id","mapStateToProps","brands","orderBy","shop","priceFilters","filterByBrandArr","filterByPrice","filterByOrderArr"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport Product from \"../../components/Product/Product\";\n\nimport {brandFilter} from \"../../pipes/brandFilter\";\nimport {priceFilter} from \"../../pipes/priceFilter\";\nimport {orderByFilter} from \"../../pipes/orderByFilter\";\nimport LayoutMode from \"../../components/LayoutMode/LayoutMode\";\nimport {paginationPipe} from \"../../pipes/paginationFilter\";\nimport Pagination from \"../../components/Pagination/Pagination\";\nimport {fetchProducts} from '../../actions/products.actions';\n\nclass ProductList extends Component {\n    state = {\n        colValue : 'col-lg-4',\n        perPage: 12,\n        currentPage: 1,\n        pagesToShow: 3,\n        gridValue: 3,\n        \n    };\n\n    componentDidMount(){\n        if(this.props.products.length ==0){\n            this.props.dispatch(fetchProducts());\n            console.log(\"this.props.products\",this.props);\n        }\n        \n        console.log(\"this.props\",this.props);\n        console.log(\"this.state\",this.state);\n        //this.props.fetchProducts();\n    }\n  \n    \n\n    changeLayout = (n) => {\n        this.setState({gridValue: n});\n\n        let realGridValue;\n\n        if(n === 4) {\n            realGridValue = 3\n        } else {\n            realGridValue = 4;\n        }\n\n      this.setState({\n          colValue: `col-lg-${realGridValue}`\n      });\n    };\n\n\n    onPrev = () => {\n        const updatedState = {...this.state};\n        updatedState.currentPage = this.state.currentPage - 1;\n        this.setState(updatedState);\n    };\n\n\n    onNext = () => {\n        this.setState({\n            ...this.state,\n            currentPage: this.state.currentPage + 1\n        });\n    };\n\n    goPage = (n) => {\n        this.setState({\n            ...this.state,\n            currentPage: n\n        });\n    };\n\n\n    render() {\n\n        let isActive = this.state.colValue[this.state.colValue.length -1];\n\n        return (\n            <div className=\"col-lg-12\">\n                {this.props.isLoading  && <h2 classname=\"m-5\">Is Loading....</h2>}\n                <div className=\"row mb-3\">\n                    <div className=\"col-12 d-none d-lg-block d-xl-block\">\n                        <div className=\"card\">\n                            <div className=\"card-header d-flex justify-content-end\">\n                                <span className=\"mr-3\">Change Layout: </span>\n                                <LayoutMode len={3} isActive={this.state.gridValue === 3} click={this.changeLayout} />\n                                <LayoutMode len={4} isActive={this.state.gridValue === 4}  click={this.changeLayout} />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"row\">\n                    {this.props.products.lenght===0 && <h2 className=\"display-4\">No product found, please re-select filters</h2>}\n                    {paginationPipe(this.props.products, this.state).map(product =>{\n                        let classes = `${this.state.colValue} col-md-6 mb-4`;\n                        return (<div className={classes} key={product.id} >\n                           <Product  product={product}/>\n                        </div>)\n                    })}\n                </div>\n                <div className=\"d-flex justify-content-end\">\n                  { this.props.products && \n                  <Pagination\n                        totalItemsCount={this.props.products.length}\n                        currentPage={this.state.currentPage}\n                        perPage={this.state.perPage}\n                        pagesToShow={this.state.pagesToShow}\n                        onGoPage={this.goPage}\n                        onPrevPage={this.onPrev}\n                        onNextPage={this.onNext}\n                    />}\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    const brands = state.brandFilter ? state.brandFilter :[];\n    const orderBy = state.orderBy;\n    const isLoading = state.shop.isLoading;\n    const priceFilters = state.priceFilter;\n   //console.log(\"isLoading in ProductList map\",isLoading );\n    const filterByBrandArr = brandFilter(state.products, brands);\n    const filterByPrice = priceFilter(filterByBrandArr,priceFilters);\n    const filterByOrderArr = orderByFilter(filterByPrice, orderBy);\n  /* console.log(\"brands\",brands)\n   console.log(\"products in map\", state.products);\n   console.log(\"filterByBranndarr\", filterByBrandArr);\n   console.log(\"products filterByOrderArr\", filterByOrderArr);*/\n\n    return {products: filterByOrderArr, isLoading:isLoading }\n};\n\n\n\nexport default connect(mapStateToProps, null)(ProductList);\n"]},"metadata":{},"sourceType":"module"}