{"ast":null,"code":"import _slicedToArray from \"/Users/fadjsasjdagd/Documents/GitHub/products_demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport axios from 'axios';\nexport var SIGN_UP = \"SIGN_UP\";\nexport var SIGNUP_FAIL = \"SIGNUP_FAIL\";\nexport var SIGNUP_SUCCESS = \"SIGNUP_SUCCESS\";\nexport var IS_AUTH = \"IS_AUTH\";\nexport var LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport var LOGIN_FAIL = \"LOGIN_FAIL\";\nvar BASE_URL = \"https://awaka.online/react/post.php\";\nexport var sendSignUpToServer = function sendSignUpToServer(userData) {\n  return function (dispatch) {\n    var url = BASE_URL;\n    userData.action = \"signup\";\n    var queryParams = Object.entries(userData).map(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          key = _ref2[0],\n          val = _ref2[1];\n\n      return \"\".concat(key, \"=\").concat(val);\n    }).join(\"&\");\n    url += \"?\" + queryParams;\n    userData.action = \"signup\";\n    console.log(\"signUp action\", url);\n    axios.post(url).then(function (res) {\n      console.log(\"sign up post res\", res);\n\n      if (res.data[\"error\"] == 1) {\n        dispatch(signUpFail(res.data.msg));\n        dispatch(isAuth(0));\n      } else {\n        dispatch(signUpSuccess(res.data));\n        dispatch(isAuth(1));\n      }\n    }).catch(function (error) {\n      console.log(\"sign up post error\", error);\n      dispatch(signUpFail(error));\n      dispatch(isAuth(0));\n    });\n  };\n};\nexport var signUpFail = function signUpFail(msg) {\n  return {\n    type: SIGNUP_FAIL,\n    payload: msg\n  };\n};\nexport var signUpSuccess = function signUpSuccess(resData) {\n  return {\n    type: SIGNUP_SUCCESS,\n    payload: resData\n  };\n};\nexport var sendLogInToServer = function sendLogInToServer(userData) {\n  return function (dispatch) {\n    var url = BASE_URL;\n    userData.action = \"login\";\n    var queryParams = Object.entries(userData).map(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n          key = _ref4[0],\n          val = _ref4[1];\n\n      return \"\".concat(key, \"=\").concat(val);\n    }).join(\"&\");\n    url += \"?\" + queryParams;\n    userData.action = \"login\";\n    console.log(\"signUp action\", url);\n    axios.post(url).then(function (res) {\n      console.log(\"res from Auth login\", res);\n      dispatch(isAuth(0));\n\n      if (res.data[\"error\"] == 1) {\n        dispatch(logInFail(res.data.msg));\n        dispatch(isAuth(0));\n      } else {\n        dispatch(LogInSuccess(res.data.user_name));\n        localStorage.setItem('token', JSON.stringify(res.data.token));\n        dispatch(isAuth(1)); //redirect\n      }\n    }).catch(function (error) {\n      dispatch(isAuth(0));\n    });\n  };\n};\nexport var logInFail = function logInFail(error) {\n  return {\n    type: LOGIN_FAIL,\n    payload: error\n  };\n};\nexport var LogInSuccess = function LogInSuccess(user_name) {\n  return {\n    type: LOGIN_SUCCESS,\n    payload: user_name\n  };\n};\nexport var isAuth = function isAuth(_isAuth) {\n  return {\n    type: IS_AUTH,\n    payload: _isAuth\n  };\n};","map":{"version":3,"sources":["/Users/fadjsasjdagd/Documents/GitHub/products_demo/src/actions/auth.action.js"],"names":["axios","SIGN_UP","SIGNUP_FAIL","SIGNUP_SUCCESS","IS_AUTH","LOGIN_SUCCESS","LOGIN_FAIL","BASE_URL","sendSignUpToServer","userData","dispatch","url","action","queryParams","Object","entries","map","key","val","join","console","log","post","then","res","data","signUpFail","msg","isAuth","signUpSuccess","catch","error","type","payload","resData","sendLogInToServer","logInFail","LogInSuccess","user_name","localStorage","setItem","JSON","stringify","token"],"mappings":"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","sourcesContent":["import axios from 'axios';\nexport const SIGN_UP = \"SIGN_UP\";\nexport const SIGNUP_FAIL = \"SIGNUP_FAIL\";\nexport const SIGNUP_SUCCESS = \"SIGNUP_SUCCESS\";\nexport const IS_AUTH = \"IS_AUTH\";\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGIN_FAIL = \"LOGIN_FAIL\";\n\nconst BASE_URL =\"https://awaka.online/react/post.php\";\n\nexport const sendSignUpToServer = (userData)=> {\n  \n return (dispatch) =>{\n    let url = BASE_URL;\n    userData.action = \"signup\";\n    const queryParams = Object.entries(userData).map(([key,val])=>`${key}=${val}`).join(\"&\")\n    url+=\"?\"+queryParams;\n    userData.action=\"signup\";\n    console.log(\"signUp action\", url);\n    \n    axios.post(url).then(res=>{\n    console.log(\"sign up post res\",res);\n     if(res.data[\"error\"] == 1 ){\n        dispatch(signUpFail(res.data.msg));\n        dispatch(isAuth(0));\n     }else{\n        dispatch(signUpSuccess(res.data));\n         dispatch(isAuth(1));\n    }\n    \n  }).catch(error=>{\n    console.log(\"sign up post error\", error);\n     dispatch(signUpFail(error));\n    dispatch(isAuth(0));\n  });\n\n  \n }\n\n}\n\nexport const signUpFail=(msg)=>{\n    return {\n        type: SIGNUP_FAIL,\n        payload:msg\n    }\n\n}\n\nexport const signUpSuccess = (resData) =>{\n    return{\n        type:SIGNUP_SUCCESS,\n        payload:resData\n    }\n}\nexport const sendLogInToServer =(userData) =>{\n    return (dispatch) =>{\n        let url = BASE_URL;\n    userData.action = \"login\";\n    const queryParams = Object.entries(userData).map(([key,val])=>`${key}=${val}`).join(\"&\")\n    url+=\"?\"+queryParams;\n    userData.action=\"login\";\n    console.log(\"signUp action\", url);\n    \n    axios.post(url).then(res=>{\n        console.log(\"res from Auth login\", res);\n            dispatch(isAuth(0));\n            if(res.data[\"error\"] == 1){\n                dispatch(logInFail(res.data.msg));\n                dispatch(isAuth(0));\n            }else{\n                dispatch(LogInSuccess(res.data.user_name));\n                localStorage.setItem('token',JSON.stringify(res.data.token));\n                dispatch(isAuth(1));\n                //redirect\n                \n               \n\n            }\n    }).catch(error=>{\n        dispatch(isAuth(0));\n    })\n    }\n}\nexport const logInFail=(error)=>{\n    return {\n        type: LOGIN_FAIL,\n        payload:error\n    }\n\n};\nexport const LogInSuccess=(user_name)=>{\n    return {\n        type: LOGIN_SUCCESS,\n        payload:user_name\n    }\n\n}\nexport const isAuth = (isAuth) => {\n    return{\n        type:IS_AUTH,\n        payload:isAuth\n    }\n}\n"]},"metadata":{},"sourceType":"module"}