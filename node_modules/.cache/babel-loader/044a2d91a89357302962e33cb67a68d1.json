{"ast":null,"code":"import _classCallCheck from \"/Users/fadjsasjdagd/Documents/GitHub/products_demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/fadjsasjdagd/Documents/GitHub/products_demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/fadjsasjdagd/Documents/GitHub/products_demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/fadjsasjdagd/Documents/GitHub/products_demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/fadjsasjdagd/Documents/GitHub/products_demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/fadjsasjdagd/Documents/GitHub/products_demo/src/pages/Auth/SignUpForm.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport Joi, { errors } from \"joi-browser\";\nimport { sendSignUpToServer } from \"../../actions/auth.action\";\nimport Input from '../../utilities/Input';\nimport Form from \"../../utilities/Form\";\n\nvar SignUpForm = /*#__PURE__*/function (_Form) {\n  _inherits(SignUpForm, _Form);\n\n  function SignUpForm() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SignUpForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SignUpForm)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      data: {\n        user_name: \"\",\n        password: \"\",\n        email: \"\"\n      },\n      errors: {}\n    };\n    _this.schema = {\n      //regex(/^[a-zA-Z0-9]{3,30}$/)\n      user_name: Joi.string().required().alphanum().min(3).max(30).label(\"User Name\"),\n      password: Joi.string().required().label(\"Password\"),\n      email: Joi.string().required().email({\n        minDomainSegments: 2,\n        tlds: {\n          allow: ['com', 'net']\n        }\n      }).required().label(\"Email\")\n    };\n\n    _this.doSumbit = function () {\n      if (_this.state.data.user_name && _this.state.data.email && _this.state.data.password) {\n        _this.props.dispatch(sendSignUpToServer(_this.state.data));\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(SignUpForm, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (this.props.isAuth === 1) {\n        setTimeout(function () {\n          console.log(_this2.props.history);\n\n          _this2.props.history.push('/products');\n        }, 4000);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          data = _this$state.data,\n          errors = _this$state.errors;\n      return /*#__PURE__*/React.createElement(\"section\", {\n        className: \"container\",\n        style: {\n          paddingTop: '6rem'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 10\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 10\n        }\n      }, this.props.isAuth && /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 32\n        }\n      }, \"Sign up success, will direct to home page in 4 seconds\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"col-sm-7  text-center mt-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 14\n        }\n      }, \"Become a member.\"), this.props.error && /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"text-danger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 31\n        }\n      }, this.props.error), /*#__PURE__*/React.createElement(\"form\", {\n        className: \"col-sm-7\",\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        label: \"User Name\",\n        name: \"user_name\",\n        value: data.user_name,\n        handleChange: this.handleChange,\n        type: \"text\",\n        error: errors[\"user_name\"],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Input, {\n        label: \"Email\",\n        name: \"email\",\n        value: data.email,\n        type: \"email\",\n        handleChange: this.handleChange,\n        error: errors[\"email\"],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Input, {\n        label: \"Password\",\n        name: \"password\",\n        id: \"password\",\n        value: data.password,\n        type: \"password\",\n        handleChange: this.handleChange,\n        error: errors[\"password\"],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        disabled: this.validate(),\n        type: \"submit\",\n        className: \"btn btn-primary col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 9\n        }\n      }, \"Sign Up\")), /*#__PURE__*/React.createElement(Link, {\n        to: \"/login\",\n        className: \"text-center my-3 col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 7\n        }\n      }, \"Already have an account? Log In here.\")));\n    }\n  }]);\n\n  return SignUpForm;\n}(Form);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    isAuth: state.auth.isAuth,\n    error: state.auth.error\n  };\n};\n\nexport default connect(mapStateToProps)(SignUpForm);","map":{"version":3,"sources":["/Users/fadjsasjdagd/Documents/GitHub/products_demo/src/pages/Auth/SignUpForm.js"],"names":["React","Component","connect","Link","Joi","errors","sendSignUpToServer","Input","Form","SignUpForm","state","data","user_name","password","email","schema","string","required","alphanum","min","max","label","minDomainSegments","tlds","allow","doSumbit","props","dispatch","isAuth","setTimeout","console","log","history","push","paddingTop","error","handleSubmit","handleChange","validate","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React,{ Component} from 'react';\nimport {connect} from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport Joi, { errors } from \"joi-browser\";\nimport { sendSignUpToServer } from \"../../actions/auth.action\";\nimport  Input from  '../../utilities/Input';\nimport Form from \"../../utilities/Form\";\nclass  SignUpForm extends Form {\n state = {\n  data:{user_name:\"\",password:\"\",email:\"\"},\n  errors:{}\n }\n  \n\n  componentDidMount(){\n    if(this.props.isAuth ===1){\n\n      setTimeout(() => {\n\n        console.log(this.props.history);\n         this.props.history.push('/products');\n         }, 4000);\n     }\n  };\n  schema = {\n    //regex(/^[a-zA-Z0-9]{3,30}$/)\n    user_name: Joi.string().required().alphanum().min(3).max(30).label(\"User Name\"),\n    password: Joi.string().required().label(\"Password\"),\n    email: Joi.string().required().email({ minDomainSegments: 2, tlds: { allow: ['com', 'net'] } }).required().label(\"Email\")\n  };\n  \n   \n  \n\n \ndoSumbit = ()=>{\n  if(this.state.data.user_name && this.state.data.email&& this.state.data.password){\n    this.props.dispatch(sendSignUpToServer(this.state.data));\n  }\n}\nrender(){\n  const {data,errors} =this.state;\n        return (\n         <section className=\"container\" style={{paddingTop: '6rem'}} >\n         <div className=\"row justify-content-center\">\n         {this.props.isAuth && <h3>Sign up success, will direct to home page in 4 seconds</h3>}\n             <span className=\"col-sm-7  text-center mt-3\">Become a member.</span>\n         {this.props.error && <h4 className=\"text-danger\">{this.props.error}</h4>}\n       <form className=\"col-sm-7\" onSubmit={this.handleSubmit}>\n        <Input  \n          label=\"User Name\" \n          name=\"user_name\" \n          value={data.user_name}\n          handleChange= {this.handleChange}\n         type=\"text\" \n         error={errors[\"user_name\"]} />\n        <Input  \n          label=\"Email\" \n          name=\"email\"\n         \n          value={data.email}\n          type=\"email\" handleChange= {this.handleChange}\n          error={errors[\"email\"]}/>\n        <Input \n         label=\"Password\" \n         name=\"password\"\n         id=\"password\"\n         value={data.password} \n         type=\"password\" \n         handleChange= {this.handleChange}\n         error={errors[\"password\"]} />\n        <button \n          disabled = {this.validate()}\n          type=\"submit\" \n          className=\"btn btn-primary col-12\">Sign Up</button>\n       \n        \n      </form>\n      \n      <Link to=\"/login\" className=\"text-center my-3 col-12\">Already have an account? Log In here.</Link>\n      </div>\n      </section>);\n    \n }\n}\nconst mapStateToProps = (state) =>{\n  return {\n      isAuth: state.auth.isAuth,\n      error:state.auth.error\n  }\n}\nexport default connect(mapStateToProps)(SignUpForm);\n"]},"metadata":{},"sourceType":"module"}